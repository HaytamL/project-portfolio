{% extends 'base.html.twig' %}

{% block title %}JobBoard - Mon profil{% endblock %}

{% block body %}
<script src="{{asset("scripts/profile/profilManager.js")}}" defer></script>

<input class="hidden" type="text" value="{{ profileToken }}" id="jwt-profile-token">

<main class="w-full sm:px-6 lg:px-24 2xl:px-86 my-16 overflow-hidden">
    <div class="border-2 bg-slate-500 rounded-4xl p-8">
        <div class="flex flex-col items-center my-4">
            <img src="{{asset("img/placeholder.jpg")}}" alt="Image de profil" class="w-48 h-48 rounded-full">
        </div>
        <div class="flex flex-col items-center my-4">
            <h1 class="text-6xl italic text-white">Bienvenue {{ app.user.firstname }}</h1>
            <p id="userId" data-user-id="{{ app.user.id }}" class="hidden"></p>
        </div>
        <div class="flex flex-col gap-2 items-center mb-8 text-white">
            <p class="text-xl mx-2" id="user-lastname">Nom : {{ app.user.lastname }}</p>
            <p class="text-xl mx-2" id="user-firstname">Prénom : {{ app.user.firstname }}</p>
            <p class="text-xl mx-2">Email : {{ app.user.email }}</p>
            <p class="text-xl mx-2" id="user-phone">Téléphone : {{ app.user.phone ?? "Non renseigné"}}</p>

        </div>
        <div class="flex justify-center">
            <a class="link btn mx-2" id="modifyUser">Modifier</a>
            <a class="link btn mx-2" href="{{ path("app_logout") }}">Déconnection</a>
        </div>
        <div id="modalHolder"></div>

        <div class="flex flex-row">
            <button class="btn btn-sm m-4" id="showApp">Voir mes candidatures</button>
            <button class="btn btn-sm m-4" id="hideApp">Cacher mes candidatures</button>
        </div>

        <div id="application-card" class="flex flex-row flex-wrap">
            
        </div>     
    </div>
</main>
{% endblock %}
